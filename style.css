:root{
  --bg:#050507;
  --panel:#111217;
  --muted:#9aa0a6;
  --overlay: rgba(0,0,0,0.65);
  --outline: rgba(255,255,255,0.12);
}
*{box-sizing:border-box}
body{
  margin:0;
  background:linear-gradient(180deg,#020203, #050507);
  color:#e6eef6;
  font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  display:flex;flex-direction:column;align-items:center;padding:12px;gap:8px;
}
header h1{ margin:0; font-size:18px; }
#game-wrap{ width:100%; max-width:980px; }
#game-area{ display:flex; gap:12px; align-items:flex-start; justify-content:center; }

#viewport{ position:relative; width: 352px; height:288px; }
canvas{ 
  image-rendering: pixelated;
  width:352px; height:288px;
  background:#000;
  border:8px solid #000;
  display:block;
  border-radius:4px;
}

/* overlay - mimic screenshot with translucent outlines */
#overlay{
  position:absolute; inset:0; pointer-events:none; /* enable specific buttons to accept events below */
  display:flex; justify-content:space-between; align-items:stretch;
  padding:8px;
}
#dpad{
  width:120px; height:220px; pointer-events:auto; display:flex; flex-direction:column; align-items:center; gap:6px;
}
.pad-row{ display:flex; gap:6px; align-items:center; }
.pad{
  background:transparent;
  border:2px solid rgba(255,255,255,0.15);
  color:rgba(255,255,255,0.18);
  width:48px; height:40px; border-radius:6px; font-weight:700;
  backdrop-filter: blur(2px);
  touch-action:none;
}
.pad:active{ transform:translateY(1px); }
.pad-up{ width:64px; height:44px; border-radius:8px; }
.pad-down{ width:64px; }
#ab{ width:140px; height:220px; pointer-events:auto; display:flex; flex-direction:column; align-items:center; gap:6px; }
.shoulders{ display:flex; width:100%; justify-content:space-between; padding:0 8px; color:rgba(255,255,255,0.12); font-weight:700; }
.ab-row{ display:flex; gap:14px; align-items:center; justify-content:center; }
.circle{
  background:transparent;
  border:2px solid rgba(255,255,255,0.14);
  color:rgba(255,255,255,0.16);
  width:58px; height:58px; border-radius:999px; font-weight:900; font-size:18px;
}
.ovals{ display:flex; gap:10px; margin-top:6px;}
.ovals span{ display:inline-block; width:28px; height:12px; border-radius:8px; border:2px solid rgba(255,255,255,0.08); opacity:0.9; }

#hud{
  width:320px; background:linear-gradient(180deg,var(--panel), #0b0b0f); padding:12px; border-radius:8px; box-shadow:0 10px 30px rgba(0,0,0,.6);
  display:flex; flex-direction:column; gap:8px;
}
#stats{ display:flex; gap:8px; flex-wrap:wrap; }
#stats div{ background:#0c0c0f; padding:6px 8px; border-radius:6px; font-weight:700; font-size:13px; }
#message{ min-height:56px; background:#07070a; padding:8px; border-radius:6px; color:var(--muted); font-size:13px; }

#battle-controls{ display:flex; gap:8px; flex-wrap:wrap; }
#battle-controls button, #save-load button{ padding:8px 10px; border-radius:6px; background:#15151a; border:1px solid var(--outline); color:#f3f7fb; font-weight:700; cursor:pointer; }

footer small{ color:var(--muted); }

@media (max-width:880px){
  #game-area{ flex-direction:column; align-items:center; }
  #viewport{ width:88%; transform:scale(0.95); transform-origin:top center; }
  canvas{ width:100%; height:auto; }
  #hud{ width:88%; }
}